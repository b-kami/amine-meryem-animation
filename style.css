:root {
    --anim-duration: 4s; /* The total animation loop time */
}

body {
    font-family: 'Comic Sans MS', cursive, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    background: linear-gradient(to bottom right, #ffebee, #e3f2fd);
    overflow: hidden;
}

.stage {
    position: relative;
    width: 600px;
    height: 400px;
    display: flex;
    justify-content: space-around;
    align-items: flex-end;
}

.person {
    position: relative;
    width: 250px;
    height: 300px;
    transform-origin: bottom center;
}

.person::before {
    content: attr(data-name);
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    width: 100px;
    text-align: center;
    font-size: 1.2rem;
    font-weight: bold;
    color: #424242;
}

/* --- UPDATED IMAGE STYLING --- */

/* This is the main container for the stacked images */
.character-image {
    width: 100%;
    height: 100%;
    position: relative; /* Allows stacking of child images */
}

/* These two selectors style the stacked images */
.img-neutral,
.img-kissing {
    width: 100%;
    height: 100%;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center bottom;
    
    /* This is the stacking magic */
    position: absolute;
    top: 0;
    left: 0;
    
    /* Makes the fade smooth */
    transition: opacity 0.2s ease-in-out; 
}

/* --- AMINE'S STYLES --- */

/* 1. Amine's body lean (No change) */
#amine {
    animation: amine-lean var(--anim-duration) ease-in-out infinite;
}
@keyframes amine-lean {
    0%, 20%, 80%, 100% { transform: translateX(0) rotate(-2deg); }
    40%, 60% { transform: translateX(35px) rotate(6deg); }
}

/* 2. Set Amine's images */
#amine .img-neutral {
    background-image: url('images/amine_neutral.png');
}
#amine .img-kissing {
    background-image: url('images/amine_kissing.png');
    opacity: 0; /* Starts invisible */
    animation: face-crossfade var(--anim-duration) ease-in-out infinite;
}


/* --- MERYEM'S STYLES --- */

/* 1. Meryem's body tilt (No change) */
#meryem {
    animation: meryem-tilt var(--anim-duration) ease-in-out infinite;
}
@keyframes meryem-tilt {
    0%, 20%, 80%, 100% { transform: translateX(0) rotate(2deg); }
    40%, 60% { transform: translateX(-35px) rotate(-6deg); }
}

/* 2. Set Meryem's images */
#meryem .img-neutral {
    background-image: url('images/meryem_neutral.png');
}
#meryem .img-kissing {
    background-image: url('images/meryem_kissing.png');
    opacity: 0; /* Starts invisible */
    animation: face-crossfade var(--anim-duration) ease-in-out infinite;
}


/* --- NEW REUSABLE ANIMATION --- */

/* This single animation controls the fade for BOTH characters */
@keyframes face-crossfade {
    /* 0% to 35%: Kissing face is hidden (opacity 0) */
    0%, 35% {
        opacity: 0;
    }
    /* 36% to 65%: Kissing face is visible (opacity 1) */
    /* The transition property smooths the change */
    40%, 65% {
        opacity: 1;
    }
    /* 66% to 100%: Kissing face is hidden again */
    70%, 100% {
        opacity: 0;
    }
}


/* --- EFFECTS ANIMATIONS (No change) --- */

.smooch-text {
    position: absolute;
    font-size: 2rem;
    font-weight: bold;
    color: #ef5350;
    opacity: 0;
    top: 100px;
    left: 50%;
    transform: translateX(-50%) scale(0.5);
    animation: smooch-pop var(--anim-duration) ease-in-out infinite;
    z-index: 20;
}
@keyframes smooch-pop {
    0%, 39%, 61%, 100% { opacity: 0; transform: translateX(-50%) scale(0.5); }
    40% { opacity: 1; transform: translateX(-50%) scale(1.2); }
    50% { opacity: 1; transform: translateX(-50%) scale(1); }
    60% { opacity: 0; transform: translateX(-50%) scale(0.8); }
}

.kiss-heart {
    position: absolute;
    width: 80px;
    height: 80px;
    background-image: url('images/heart.png');
    background-size: contain;
    background-repeat: no-repeat;
    opacity: 0;
    top: 140px;
    left: 50%;
    transform: translateX(-50%) scale(0.5);
    animation: heart-pulse var(--anim-duration) ease-in-out infinite;
    z-index: 15;
}
@keyframes heart-pulse {
    0%, 39%, 61%, 100% { opacity: 0; transform: translateX(-50%) scale(0.5); }
    40% { opacity: 1; transform: translateX(-50%) scale(1.2); }
    50% { opacity: 1; transform: translateX(-50%) scale(1); }
    60% { opacity: 0; transform: translateX(-50%) scale(0.8); }
}

.speech-bubble {
    position: absolute;
    top: -80px;
    left: 20px;
    font-size: 1.1rem;
    font-weight: bold;
    background: #fff;
    border: 2px solid #ff80ab;
    padding: 8px 12px;
    border-radius: 15px 15px 15px 5px;
    opacity: 0;
    transform: translateY(20px);
    animation: say-love var(--anim-duration) ease-in-out infinite;
    z-index: 20;
    white-space: nowrap;
}
@keyframes say-love {
    0%, 65%, 95%, 100% { opacity: 0; transform: translateY(20px); }
    70% { opacity: 1; transform: translateY(0); }
    90% { opacity: 1; transform: translateY(0); }
}
